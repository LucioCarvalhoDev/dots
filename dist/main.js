(()=>{"use strict";var t={740:(t,n,e)=>{e.d(n,{Z:()=>a});var r=e(81),s=e.n(r),i=e(645),o=e.n(i)()(s());o.push([t.id,'body {\r\n    width: 100vw;\r\n    height: 100vh;;\r\n    margin: 0px;\r\n    overflow: hidden;\r\n    background: black;\r\n}\r\n\r\n* {\r\n    box-sizing: border-box;\r\n}\r\n\r\n#canvas {\r\n    /* width: 100vw;\r\n    height: 100vh; */\r\n    overflow: hidden;\r\n    background: linear-gradient(#6c1765, #010045);\r\n}\r\n\r\n.dot {\r\n    position: absolute;\r\n}\r\n\r\n.ui {\r\n    position: absolute;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: transparent;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n}\r\n\r\n.ui_sensor {\r\n    display: flex;\r\n    justify-content: center;\r\n    position: absolute;\r\n    background: transparent;\r\n    border-radius: 100%;\r\n    width: 100vw;\r\n    height: 300px;\r\n    transform: x;\r\n    top: -100px;\r\n}\r\n\r\n.ui_sensor.visible > *,\r\n.ui_sensor:hover > * {\r\n    opacity: 90% !important;\r\n}\r\n\r\n@keyframes fade {\r\n    0% {\r\n        opacity: 90%;\r\n    }\r\n    70% {\r\n        opacity: 90%;\r\n    }\r\n    to {\r\n        opacity: 0%;\r\n    }\r\n}\r\n\r\n.ui_sensor_open {\r\n    opacity: 0%;\r\n    color: rgb(255, 255, 255);\r\n    position: absolute;\r\n    top: 110px;\r\n    background: transparent;\r\n    border: none;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    width: 40px;\r\n    height: 40px;\r\n    transition: all 1s;\r\n    animation: fade 4s;\r\n}\r\n\r\n.ui_sensor_open:hover {\r\n    cursor: pointer;\r\n}\r\n\r\n.ui_sensor_open:focus {\r\n    outline: none;\r\n}\r\n\r\n.ui_sensor_open > i {\r\n    font-size: 2rem\r\n}\r\n\r\n.ui_cntrls {\r\n    position: relative;\r\n    top: 60px;\r\n    display: grid;\r\n    row-gap: 5px;\r\n    grid-template-areas: \r\n        "r1" "r2" "r3";\r\n    border-radius: 15px;\r\n    padding: 15px;\r\n    background: #fdfdfd;\r\n    opacity: 90%;\r\n    display: none;\r\n}\r\n\r\n.ui_cntrls.on {\r\n    display: block;\r\n    animation: fade 1s reverse;\r\n}\r\n\r\n.play {\r\n    grid-area: r1;\r\n    margin: 0px auto;\r\n    border-style: solid;\r\n    border-width: 15px 0px 15px 30px;\r\n    box-sizing: border-box;\r\n    background-color: transparent;\r\n    border-color: transparent transparent transparent #202020;\r\n}\r\n\r\n.play:hover {\r\n    cursor: pointer;\r\n}',""]);const a=o},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,r,s,i){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var h=0;h<t.length;h++){var d=[].concat(t[h]);r&&o[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),e&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=e):d[2]=e),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),n.push(d))}},n}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var i={},o=[],a=0;a<t.length;a++){var c=t[a],h=r.base?c[0]+r.base:c[0],d=i[h]||0,l="".concat(h," ").concat(d);i[h]=d+1;var u=e(l),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)n[u].references++,n[u].updater(p);else{var f=s(p,r);r.byIndex=a,n.splice(a,0,{identifier:l,updater:f,references:1})}o.push(l)}return o}function s(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,s){var i=r(t=t||[],s=s||{});return function(t){t=t||[];for(var o=0;o<i.length;o++){var a=e(i[o]);n[a].references--}for(var c=r(t,s),h=0;h<i.length;h++){var d=e(i[h]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}i=c}}},569:t=>{var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},216:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},565:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},795:t=>{t.exports=function(t){var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var s=void 0!==e.layer;s&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,s&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},589:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}}},n={};function e(r){var s=n[r];if(void 0!==s)return s.exports;var i=n[r]={id:r,exports:{}};return t[r](i,i.exports,e),i.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);var r={};(()=>{e.d(r,{W:()=>b});var t=e(379),n=e.n(t),s=e(795),i=e.n(s),o=e(569),a=e.n(o),c=e(565),h=e.n(c),d=e(216),l=e.n(d),u=e(589),p=e.n(u),f=e(740),v={};v.styleTagTransform=p(),v.setAttributes=h(),v.insert=a().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=l(),n()(f.Z,v),f.Z&&f.Z.locals&&f.Z.locals;class g{constructor(t,n,e,r,s,i){this.x=t,this.y=n,this.dir=e,this.speed=r,this.state=s,this.hp=i,this.rate=1}update(t,n){if(this.move(),"born"===this.state)this.hp>=100?(this.hp=100,this.state="idle"):this.hp+=this.rate;else if("dying"===this.state&&(this.hp-=this.rate,this.hp<=0))return this.hp=0,0;return this.x<-b.dotDistanceToDie||this.x>t+b.dotDistanceToDie||this.y<-b.dotDistanceToDie||this.y>n+b.dotDistanceToDie?0:1}_distanceTo(t){let n=this.x-t.x,e=this.y-t.y;return Math.sqrt(n**2+e**2)}_degToRad(t){return t*(Math.PI/180)}move(){const t=Math.cos(this._degToRad(this.dir))*this.speed,n=Math.sin(this._degToRad(this.dir))*this.speed;this.x+=t,this.y+=n}die(){this.state="dying"}}class y{constructor(t){this.canvas=t,this.brush=this.canvas.getContext("2d")}dot(t,n,e="#ffffff"){this.brush.beginPath(),this.brush.arc(t,n,2.5,0,2*Math.PI),this.brush.fillStyle=e,this.brush.fill(),this.brush.closePath()}line(t,n,e){this.brush.beginPath(),this.brush.moveTo(t.x,t.y),this.brush.lineTo(n.x,n.y),this.brush.strokeStyle=e,this.brush.stroke(),this.brush.closePath()}}const m=(...t)=>{const n=Math.max(...t),e=Math.min(...t);return Math.random()*(n-e)+e},b={dotDistanceToDie:200,dotPopulation:localStorage.getItem("dotPopulation")||35,lineMaxLenght:localStorage.getItem("lineMaxLenght")||255},x=document.getElementById("ipt-population");x.value=b.dotPopulation,x.onchange=t=>{b.dotPopulation=t.target.value,localStorage.setItem("dotPopulation",t.target.value)};const w=document.getElementById("ipt-lines");w.value=b.lineMaxLenght,w.onchange=t=>{b.lineMaxLenght=+t.target.value,localStorage.setItem("lineMaxLenght",+t.target.value)};const _=new class{constructor(){this.sensor=document.querySelector(".ui_sensor"),this.button=document.querySelector(".ui_sensor_open"),this.controls=document.querySelector(".ui_cntrls"),this.cntrlsState=!1}_setCntrlsVisibility(t){t?this.sensor.classList.add("visible"):this.sensor.classList.remove("visible")}manageControls(){let t;this.controls.classList.contains("on")?(this._setCntrlsVisibility(!1),t=!1,this.controls.animate([{opacity:"90%"},{opacity:"0%"}],{duration:500,iterations:1,direction:"normal"}).onfinish=()=>{this.controls.classList.remove("on")}):(this.controls.classList.add("on"),this._setCntrlsVisibility(!0),t=!0),this.button.animate([{transform:"rotate(0)"},{transform:"rotate(90deg)"}],{duration:500,iterations:1,direction:t?"normal":"reverse",fill:"forwards"})}};document.querySelector(".ui_sensor_open").onclick=_.manageControls.bind(_);let M=!0;document.querySelector(".play").onclick=()=>{M=!M};const D=new class{constructor(t){this.canvas={element:t,width:t.clientWidth,height:t.clientHeight},this.drafter=new y(this.canvas.element),this.dots=[]}display(t,n){this.canvas.width=t,this.canvas.height=n,this.canvas.element.width=t,this.canvas.element.height=n}_createDot(t,n,e,r,s,i){const o=t||m(-b.dotDistanceToDie,this.canvas.width+b.dotDistanceToDie),a=n||m(-b.dotDistanceToDie,this.canvas.height+b.dotDistanceToDie),c=null!=e?e:Math.round(360*Math.random()),h=r||2*Math.random()+.1,d=s||"idle",l=new g(o,a,c,h,d,"born"===d?0:100);l.rate=m(.1,1),this.dots.push(l)}rePopulate(t=1){for(let n=1;n<=t;n++)this._createDot(void 0,void 0,void 0,void 0,"born")}populate(t=1){for(let n=1;n<=t;n++)this._createDot()}updateDots(){return this.dots.forEach(((t,n)=>{t.update(this.canvas.width,this.canvas.height)||delete this.dots[n]})),this.dots=this.dots.filter((t=>t)),this.dots.length}kill(t){for(let n=0;n<t;n++)this.dots[n].rate=m(.01,2),this.dots[n].die()}renderDots(){this.drafter.brush.clearRect(0,0,this.canvas.width,this.canvas.height);const t=this.dots.filter((t=>t.x>=-5&&t.x<=this.canvas.width+5&&t.y>=-5&&t.y<=this.canvas.height+5));return t.forEach((t=>{const n="#ffffff"+Math.round(255*t.hp/100).toString(16).padStart(2,"0");this.drafter.dot(t.x,t.y,n)})),t.length}renderLines(){const t=[].concat(this.dots),n=255*b.lineMaxLenght/100,e=[[{x:0,y:0},{x:this.canvas.width,y:0}],[{x:0,y:this.canvas.height},{x:this.canvas.width,y:this.canvas.height}],[{x:0,y:0},{x:0,y:this.canvas.height}],[{x:this.canvas.width,y:0},{x:this.canvas.width,y:this.canvas.height}]];for(let r=0;r<this.dots.length;r++){const s=t.splice(0,1)[0];for(let t=r+1;t<this.dots.length;t++){const r=this.dots[t],i=s._distanceTo(r);if(i<n&&e.map((([t,n])=>!(!this._isPointInsideRect(s,[0,0],[this.canvas.width,this.canvas.height])&&!this._isPointInsideRect(r,[0,0],[this.canvas.width,this.canvas.height]))||this._checkIfLinesCross(t,n,s,r))).reduce(((t,n)=>t||n))){const t=255*Math.abs(i/n-1),e=(s.hp+r.hp)/2/100,o="#ffffff"+Number(Math.round(t*e)).toString(16).padStart(2,"0");this.drafter.line(s,r,o)}}}}_checkIfLinesCross(t,n,e,r){const s=t.x,i=t.y,o=n.x,a=n.y,c=e.x,h=e.y,d=r.x,l=r.y;var u,p,f;return 0!=(u=(o-s)*(l-h)-(d-c)*(a-i))&&(p=((i-a)*(d-s)+(o-s)*(l-i))/u,0<(f=((l-h)*(d-s)+(c-d)*(l-i))/u)&&f<1&&0<p&&p<1)}_isPointInsideRect({x:t,y:n},[e,r],[s,i]){return t>e&&t<s&&n>r&&n<i}}(document.getElementById("canvas")),T=document.querySelector("body");D.display(T.clientWidth,T.clientHeight),D.populate(b.dotPopulation),D.renderDots(),D.renderLines(),setInterval((function(){if(D.display(T.clientWidth,T.clientHeight),M){const t=D.updateDots();t<=b.dotPopulation?D.rePopulate(b.dotPopulation-t):D.kill(t-b.dotPopulation)}D.renderDots(),D.renderLines()}),30)})()})();